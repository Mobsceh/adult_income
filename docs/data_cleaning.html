<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>UCI Adult Income Dataset - Data Cleaning and Preprocessing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="data_cleaning_files/libs/clipboard/clipboard.min.js"></script>
<script src="data_cleaning_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="data_cleaning_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="data_cleaning_files/libs/quarto-html/popper.min.js"></script>
<script src="data_cleaning_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="data_cleaning_files/libs/quarto-html/anchor.min.js"></script>
<link href="data_cleaning_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="data_cleaning_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="data_cleaning_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="data_cleaning_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="data_cleaning_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">UCI Adult Income Dataset - Data Cleaning and Preprocessing</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>In this notebook, we focus on <strong>data preparation</strong>, <strong>cleaning</strong>, and <strong>preprocessing</strong> for the <strong>UCI Adult Income Dataset</strong>, a popular dataset often used for classification tasks predicting whether an individual earns more or less than $50,000 annually based on demographic and work-related attributes.</p>
<p>Good data preprocessing is crucial for reliable and interpretable results in machine learning and analytics workflows. Here, we address common data issues such as <strong>missing values, duplicates, and inconsistent categorical labels</strong> while creating derived features to improve downstream analysis.</p>
<p>We start by importing essential Python libraries for data handling and manipulation.</p>
<ul>
<li><p><code>pandas</code> for structured data operations.</p></li>
<li><p><code>numpy</code> for numerical operations.</p></li>
<li><p><code>os</code> for interacting with the operating system and directory structures.</p></li>
</ul>
<div id="eb6ea5de-6246-4a83-8c98-94d4ca5bf0e3" class="cell" data-execution_count="439">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="define-and-create-directory-paths" class="level2">
<h2 class="anchored" data-anchor-id="define-and-create-directory-paths">Define and Create Directory Paths</h2>
<p>To ensure reproducibility andorganized storage, we programmatically create directories for:</p>
<ul>
<li><strong>raw data</strong></li>
<li><strong>processed data</strong></li>
<li><strong>results</strong></li>
<li><strong>documentation</strong></li>
</ul>
<p>These directories will store intermediate and final outputs for reproducibility.</p>
<div id="71bf85fb-eda2-417d-a42b-91c095cbbf9f" class="cell" data-execution_count="440">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get working directory</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>current_dir <span class="op">=</span> os.getcwd()</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Go one directory up to the root directory</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>project_root_dir <span class="op">=</span> os.path.dirname(current_dir)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define paths to the data folders</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>data_dir <span class="op">=</span> os.path.join(project_root_dir, <span class="st">'data'</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>raw_dir <span class="op">=</span> os.path.join(data_dir, <span class="st">'raw'</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>processed_dir <span class="op">=</span> os.path.join(data_dir, <span class="st">'processed'</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Define paths to results folder</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>results_dir <span class="op">=</span> os.path.join(project_root_dir, <span class="st">'results'</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Define paths to docs folder</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>docs_dir <span class="op">=</span> os.path.join(project_root_dir, <span class="st">'docs'</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create directories if they do not exist</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>os.makedirs(raw_dir, exist_ok <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>os.makedirs(processed_dir, exist_ok <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>os.makedirs(results_dir, exist_ok <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>os.makedirs(docs_dir, exist_ok <span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="read-in-the-data" class="level2">
<h2 class="anchored" data-anchor-id="read-in-the-data">Read in the data</h2>
<p>We load the <strong>Adult Income dataset</strong> as a CSV file.</p>
<p>Key considerations here are:</p>
<ul>
<li>We treat <code>?</code> as missing values (<code>na_values = '?'</code>).</li>
<li>We use <code>skipinitialspace = True</code> to remove extra spaces after delimeters which is common in text-based datasets.</li>
</ul>
<p>After loading, we inspect the first few rows.</p>
<div id="01b6c5d3-6db2-4273-91bc-20318dbd8412" class="cell" data-execution_count="441">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>adult_data_filename <span class="op">=</span> os.path.join(raw_dir, <span class="st">"adult.csv"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>adult_df <span class="op">=</span> pd.read_csv(adult_data_filename, header <span class="op">=</span> <span class="va">None</span>, na_values <span class="op">=</span> <span class="st">'?'</span>, skipinitialspace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>adult_df.head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="441">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">0</th>
<th data-quarto-table-cell-role="th">1</th>
<th data-quarto-table-cell-role="th">2</th>
<th data-quarto-table-cell-role="th">3</th>
<th data-quarto-table-cell-role="th">4</th>
<th data-quarto-table-cell-role="th">5</th>
<th data-quarto-table-cell-role="th">6</th>
<th data-quarto-table-cell-role="th">7</th>
<th data-quarto-table-cell-role="th">8</th>
<th data-quarto-table-cell-role="th">9</th>
<th data-quarto-table-cell-role="th">10</th>
<th data-quarto-table-cell-role="th">11</th>
<th data-quarto-table-cell-role="th">12</th>
<th data-quarto-table-cell-role="th">13</th>
<th data-quarto-table-cell-role="th">14</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>39</td>
<td>State-gov</td>
<td>77516</td>
<td>Bachelors</td>
<td>13</td>
<td>Never-married</td>
<td>Adm-clerical</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>2174</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>50</td>
<td>Self-emp-not-inc</td>
<td>83311</td>
<td>Bachelors</td>
<td>13</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>13</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>38</td>
<td>Private</td>
<td>215646</td>
<td>HS-grad</td>
<td>9</td>
<td>Divorced</td>
<td>Handlers-cleaners</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>53</td>
<td>Private</td>
<td>234721</td>
<td>11th</td>
<td>7</td>
<td>Married-civ-spouse</td>
<td>Handlers-cleaners</td>
<td>Husband</td>
<td>Black</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>28</td>
<td>Private</td>
<td>338409</td>
<td>Bachelors</td>
<td>13</td>
<td>Married-civ-spouse</td>
<td>Prof-specialty</td>
<td>Wife</td>
<td>Black</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Cuba</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>37</td>
<td>Private</td>
<td>284582</td>
<td>Masters</td>
<td>14</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Wife</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>49</td>
<td>Private</td>
<td>160187</td>
<td>9th</td>
<td>5</td>
<td>Married-spouse-absent</td>
<td>Other-service</td>
<td>Not-in-family</td>
<td>Black</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>16</td>
<td>Jamaica</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>52</td>
<td>Self-emp-not-inc</td>
<td>209642</td>
<td>HS-grad</td>
<td>9</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>31</td>
<td>Private</td>
<td>45781</td>
<td>Masters</td>
<td>14</td>
<td>Never-married</td>
<td>Prof-specialty</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>14084</td>
<td>0</td>
<td>50</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>42</td>
<td>Private</td>
<td>159449</td>
<td>Bachelors</td>
<td>13</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>5178</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We also inspect the dataset’s shape. We see that the data has <em>32,561</em> rows and <em>15</em> columns.</p>
<div id="6f3c0596-fbe7-45b9-81f8-749822277416" class="cell" data-execution_count="442">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>adult_df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="442">
<pre><code>(32561, 15)</code></pre>
</div>
</div>
<p>In addition, we check the data types using <code>.info</code>.</p>
<div id="a77b3b76-3b2b-457b-aa74-f712fba59afb" class="cell" data-execution_count="443">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>adult_df.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 32561 entries, 0 to 32560
Data columns (total 15 columns):
 #   Column  Non-Null Count  Dtype 
---  ------  --------------  ----- 
 0   0       32561 non-null  int64 
 1   1       30725 non-null  object
 2   2       32561 non-null  int64 
 3   3       32561 non-null  object
 4   4       32561 non-null  int64 
 5   5       32561 non-null  object
 6   6       30718 non-null  object
 7   7       32561 non-null  object
 8   8       32561 non-null  object
 9   9       32561 non-null  object
 10  10      32561 non-null  int64 
 11  11      32561 non-null  int64 
 12  12      32561 non-null  int64 
 13  13      31978 non-null  object
 14  14      32561 non-null  object
dtypes: int64(6), object(9)
memory usage: 3.7+ MB</code></pre>
</div>
</div>
</section>
<section id="data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning">Data Cleaning</h2>
<section id="assign-proper-column-names-to-the-columns" class="level3">
<h3 class="anchored" data-anchor-id="assign-proper-column-names-to-the-columns">1. Assign proper column names to the columns</h3>
<p>One of the most stricking things from the above inspection is that the dataset lacks explicit column headers. We manually assign descriptive meaningful column names based on the description of the <a href="https://archive.ics.uci.edu/dataset/2/adult">dataset</a>. This is critical for readability and interpretability in the subsequent steps.</p>
<div id="d37c127a-c22b-41a4-b9e2-449dea563e27" class="cell" data-execution_count="444">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>adult_df.columns <span class="op">=</span> [<span class="st">"age"</span>, <span class="st">"workclass"</span>, <span class="st">"fnlwgt"</span>, <span class="st">"education"</span>, <span class="st">"education_num"</span>, <span class="st">"marital_status"</span>,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"occupation"</span>, <span class="st">"relationship"</span>, <span class="st">"race"</span>, <span class="st">"sex"</span>, <span class="st">"capital_gain"</span>, <span class="st">"capital_loss"</span>, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"hours_per_week"</span>, <span class="st">"native_country"</span>, <span class="st">"income"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We inspect again to see whether they are properly assigned.</p>
<div id="4dcda69c-9979-4178-8b99-fb1317eb89aa" class="cell" data-execution_count="445">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>adult_df.head(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="445">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">workclass</th>
<th data-quarto-table-cell-role="th">fnlwgt</th>
<th data-quarto-table-cell-role="th">education</th>
<th data-quarto-table-cell-role="th">education_num</th>
<th data-quarto-table-cell-role="th">marital_status</th>
<th data-quarto-table-cell-role="th">occupation</th>
<th data-quarto-table-cell-role="th">relationship</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">capital_gain</th>
<th data-quarto-table-cell-role="th">capital_loss</th>
<th data-quarto-table-cell-role="th">hours_per_week</th>
<th data-quarto-table-cell-role="th">native_country</th>
<th data-quarto-table-cell-role="th">income</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>39</td>
<td>State-gov</td>
<td>77516</td>
<td>Bachelors</td>
<td>13</td>
<td>Never-married</td>
<td>Adm-clerical</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>2174</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>50</td>
<td>Self-emp-not-inc</td>
<td>83311</td>
<td>Bachelors</td>
<td>13</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>13</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>38</td>
<td>Private</td>
<td>215646</td>
<td>HS-grad</td>
<td>9</td>
<td>Divorced</td>
<td>Handlers-cleaners</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>53</td>
<td>Private</td>
<td>234721</td>
<td>11th</td>
<td>7</td>
<td>Married-civ-spouse</td>
<td>Handlers-cleaners</td>
<td>Husband</td>
<td>Black</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>28</td>
<td>Private</td>
<td>338409</td>
<td>Bachelors</td>
<td>13</td>
<td>Married-civ-spouse</td>
<td>Prof-specialty</td>
<td>Wife</td>
<td>Black</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Cuba</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>37</td>
<td>Private</td>
<td>284582</td>
<td>Masters</td>
<td>14</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Wife</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>49</td>
<td>Private</td>
<td>160187</td>
<td>9th</td>
<td>5</td>
<td>Married-spouse-absent</td>
<td>Other-service</td>
<td>Not-in-family</td>
<td>Black</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>16</td>
<td>Jamaica</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>52</td>
<td>Self-emp-not-inc</td>
<td>209642</td>
<td>HS-grad</td>
<td>9</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>31</td>
<td>Private</td>
<td>45781</td>
<td>Masters</td>
<td>14</td>
<td>Never-married</td>
<td>Prof-specialty</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>14084</td>
<td>0</td>
<td>50</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>42</td>
<td>Private</td>
<td>159449</td>
<td>Bachelors</td>
<td>13</td>
<td>Married-civ-spouse</td>
<td>Exec-managerial</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>5178</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="understanding-the-dataset" class="level3">
<h3 class="anchored" data-anchor-id="understanding-the-dataset">2. Understanding the dataset</h3>
<p>Before proceeding with the cleaning, we would like to understanding the variables deeply. This would help guide the cleaning process. The subsequent tables detail the types, meaning and values or ranges of the variables in the dataset.</p>
<p><strong>Table 1: Summary table of the variables in the dataset</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 42%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Values / Range (excluding nan)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">age</td>
<td style="text-align: left;">Numeric</td>
<td style="text-align: left;">Age in years</td>
<td style="text-align: left;">17 – 90</td>
</tr>
<tr class="even">
<td style="text-align: left;">fnlwgt</td>
<td style="text-align: left;">Numeric</td>
<td style="text-align: left;">Final sampling weight</td>
<td style="text-align: left;">~12,285 – 1,484,705</td>
</tr>
<tr class="odd">
<td style="text-align: left;">education_num</td>
<td style="text-align: left;">Numeric</td>
<td style="text-align: left;">Education level in years</td>
<td style="text-align: left;">1 – 16</td>
</tr>
<tr class="even">
<td style="text-align: left;">capital_gain</td>
<td style="text-align: left;">Numeric</td>
<td style="text-align: left;">Capital gain amounts (Profit from selling assets above purchase price within the survey year (in USD))</td>
<td style="text-align: left;">0 – 99,999</td>
</tr>
<tr class="odd">
<td style="text-align: left;">capital_loss</td>
<td style="text-align: left;">Numeric</td>
<td style="text-align: left;">Capital loss amounts (Loss from selling assets below purchase price within the survey year (in USD))</td>
<td style="text-align: left;">0 – 4,356</td>
</tr>
<tr class="even">
<td style="text-align: left;">hours_per_week</td>
<td style="text-align: left;">Numeric</td>
<td style="text-align: left;">Weekly work hours</td>
<td style="text-align: left;">1 – 99</td>
</tr>
<tr class="odd">
<td style="text-align: left;">workclass</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Type of employment</td>
<td style="text-align: left;">8 categories</td>
</tr>
<tr class="even">
<td style="text-align: left;">education</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Highest level of education achieved</td>
<td style="text-align: left;">16 categories</td>
</tr>
<tr class="odd">
<td style="text-align: left;">marital_status</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Marital status</td>
<td style="text-align: left;">7 categories</td>
</tr>
<tr class="even">
<td style="text-align: left;">occupation</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Type of job</td>
<td style="text-align: left;">14 categories</td>
</tr>
<tr class="odd">
<td style="text-align: left;">relationship</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Relationship within household</td>
<td style="text-align: left;">6 categories</td>
</tr>
<tr class="even">
<td style="text-align: left;">race</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Ethnic/racial group</td>
<td style="text-align: left;">5 categories</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sex</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Gender</td>
<td style="text-align: left;">2 categories</td>
</tr>
<tr class="even">
<td style="text-align: left;">native_country</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Country of origin</td>
<td style="text-align: left;">41 categories</td>
</tr>
<tr class="odd">
<td style="text-align: left;">income</td>
<td style="text-align: left;">Categorical</td>
<td style="text-align: left;">Income category (target variable)</td>
<td style="text-align: left;">2 categories: &lt;=50K, &gt;50K</td>
</tr>
</tbody>
</table>
<p><strong>Table 2: Categorical Variables Table</strong> | Variable | Unique Value | Description | |:—————-|:——————–|:—————————————————————————-| | workclass | Private | Works for a private, for-profit company | | | Self-emp-not-inc | Self-employed without incorporated business status | | | Self-emp-inc | Self-employed with an incorporated business | | | Federal-gov | Employed by the federal government | | | State-gov | Employed by a state government | | | Local-gov | Employed by a local government | | | Without-pay | Works without receiving pay (e.g.&nbsp;unpaid family worker) | | | Never-worked | Has never worked in their lifetime | | education | Bachelors | Bachelor’s degree | | | Some-college | Some college courses completed, no degree | | | 11th | 11th grade completed | | | HS-grad | High school graduate | | | Prof-school | Professional school (e.g.&nbsp;law, medicine) | | | Assoc-acdm | Associate degree (academic) | | | Assoc-voc | Associate degree (vocational) | | | 9th | 9th grade completed | | | 7th-8th | 7th or 8th grade completed | | | 12th | 12th grade, no diploma | | | Masters | Master’s degree | | | 1st-4th | 1st to 4th grade completed | | | 10th | 10th grade completed | | | Doctorate | Doctoral degree | | | 5th-6th | 5th or 6th grade completed | | | Preschool | Preschool education | | marital-status | Married-civ-spouse | Married, living with spouse | | | Divorced | Divorced legally | | | Never-married | Never married | | | Separated | Separated legally but not divorced | | | Widowed | Spouse deceased | | | Married-spouse-absent| Married, spouse not present (e.g.&nbsp;estrangement) | | | Married-AF-spouse | Married to a spouse who is a member of the Armed Forces | | occupation | Tech-support | Technical support jobs | | | Craft-repair | Skilled manual trade and repair jobs | | | Other-service | Services not classified elsewhere | | | Sales | Sales-related jobs | | | Exec-managerial | Executive and managerial roles | | | Prof-specialty | Professional specialty occupations (e.g.&nbsp;scientist, lawyer) | | | Handlers-cleaners | Manual labor jobs involving cleaning, handling objects | | | Machine-op-inspct | Machine operators, inspectors | | | Adm-clerical | Administrative and clerical jobs | | | Farming-fishing | Agriculture, farming, fishing occupations | | | Transport-moving | Transport and moving equipment operators | | | Priv-house-serv | Private household service jobs | | | Protective-serv | Protective service jobs (e.g.&nbsp;security, law enforcement) | | | Armed-Forces | Military service | | relationship | Wife | Female spouse | | | Own-child | Biological or adopted child | | | Husband | Male spouse | | | Not-in-family | Not part of a family unit (e.g.&nbsp;living alone) | | | Other-relative | Other relative in household | | | Unmarried | Single person, not married | | race | White | White | | | Asian-Pac-Islander | Asian or Pacific Islander | | | Amer-Indian-Eskimo | American Indian or Eskimo | | | Other | Other race not listed | | | Black | Black | | sex | Female | Female | | | Male | Male | | native-country | United-States, Cambodia, England, Puerto-Rico, Canada, Germany, Outlying-US(Guam-USVI-etc), India, Japan, Greece, South, China, Cuba, Iran, Honduras, Philippines, Italy, Poland, Jamaica, Vietnam, Mexico, Portugal, Ireland, France, Dominican-Republic, Laos, Ecuador, Taiwan, Haiti, Columbia, Hungary, Guatemala, Nicaragua, Scotland, Thailand, Yugoslavia, El-Salvador, Trinidad-Tobago, Peru, Hong, Holland-Netherlands | | | income | &lt;=50K | Income less than or equal to USD 50,000 | | | &gt;50K | Income greater than USD 50,000 |</p>
</section>
<section id="deal-with-missing-values" class="level3">
<h3 class="anchored" data-anchor-id="deal-with-missing-values">3. Deal with Missing Values</h3>
<div id="31ec4e10-b891-42cc-8063-af6ae50cfbcb" class="cell" data-execution_count="446">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>adult_df.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="446">
<pre><code>age                  0
workclass         1836
fnlwgt               0
education            0
education_num        0
marital_status       0
occupation        1843
relationship         0
race                 0
sex                  0
capital_gain         0
capital_loss         0
hours_per_week       0
native_country     583
income               0
dtype: int64</code></pre>
</div>
</div>
<p>Using <code>.isnull().sum()</code>, we identify columns with missing values. They are:</p>
<ul>
<li><code>workclass</code> with 1,836 missing values</li>
<li><code>occupation</code> with 1,843 missing values</li>
<li><code>native_country</code> with 583 missing values</li>
</ul>
<p>We address these by:</p>
<ul>
<li>Imputing categorical missing values with <code>Unknown</code> for the columns <code>workclass</code> and <code>occupation</code></li>
<li>Imputing categorical missing values with <code>Other</code> for the column <code>native_country</code></li>
</ul>
<p>This has been done to preserve data consistency while acknowledging uncertainity.</p>
<div id="2666e200-ac71-4d7f-b8d8-9b789291db11" class="cell" data-execution_count="447">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'workclass'</span>] <span class="op">=</span> adult_df[<span class="st">'workclass'</span>].fillna(<span class="st">'Unknown'</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'native_country'</span>] <span class="op">=</span> adult_df[<span class="st">'native_country'</span>].fillna(<span class="st">'Other'</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'occupation'</span>] <span class="op">=</span> adult_df[<span class="st">'occupation'</span>].fillna(<span class="st">'Unknown'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We inspect one more time to ensure we don’t have any missing values.</p>
<div id="384c2c7b-dc29-4e1c-903c-c03bc647ee93" class="cell" data-execution_count="448">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>adult_df.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="448">
<pre><code>age               0
workclass         0
fnlwgt            0
education         0
education_num     0
marital_status    0
occupation        0
relationship      0
race              0
sex               0
capital_gain      0
capital_loss      0
hours_per_week    0
native_country    0
income            0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="removing-duplicates" class="level3">
<h3 class="anchored" data-anchor-id="removing-duplicates">4. Removing Duplicates</h3>
<p>Duplicates can distort statistical summaries and model performance. Using <code>.duplicated().sum()</code>, we count duplicate records.</p>
<div id="7eecd231-eecd-4b0e-a7cb-6ef065a397ba" class="cell" data-execution_count="449">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>adult_df.duplicated().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="449">
<pre><code>24</code></pre>
</div>
</div>
<p>We then inspect the duplicated records.</p>
<div id="43b4b128-d4b1-4d40-a2f8-f26ff862d6db" class="cell" data-execution_count="450">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>adult_df[adult_df.duplicated(keep<span class="op">=</span><span class="va">False</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="450">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">workclass</th>
<th data-quarto-table-cell-role="th">fnlwgt</th>
<th data-quarto-table-cell-role="th">education</th>
<th data-quarto-table-cell-role="th">education_num</th>
<th data-quarto-table-cell-role="th">marital_status</th>
<th data-quarto-table-cell-role="th">occupation</th>
<th data-quarto-table-cell-role="th">relationship</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">capital_gain</th>
<th data-quarto-table-cell-role="th">capital_loss</th>
<th data-quarto-table-cell-role="th">hours_per_week</th>
<th data-quarto-table-cell-role="th">native_country</th>
<th data-quarto-table-cell-role="th">income</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2303</td>
<td>90</td>
<td>Private</td>
<td>52386</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Other-service</td>
<td>Not-in-family</td>
<td>Asian-Pac-Islander</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>35</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3917</td>
<td>19</td>
<td>Private</td>
<td>251579</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Other-service</td>
<td>Own-child</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>14</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4325</td>
<td>25</td>
<td>Private</td>
<td>308144</td>
<td>Bachelors</td>
<td>13</td>
<td>Never-married</td>
<td>Craft-repair</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Mexico</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4767</td>
<td>21</td>
<td>Private</td>
<td>250051</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Prof-specialty</td>
<td>Own-child</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4881</td>
<td>25</td>
<td>Private</td>
<td>308144</td>
<td>Bachelors</td>
<td>13</td>
<td>Never-married</td>
<td>Craft-repair</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Mexico</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4940</td>
<td>38</td>
<td>Private</td>
<td>207202</td>
<td>HS-grad</td>
<td>9</td>
<td>Married-civ-spouse</td>
<td>Machine-op-inspct</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>48</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5104</td>
<td>90</td>
<td>Private</td>
<td>52386</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Other-service</td>
<td>Not-in-family</td>
<td>Asian-Pac-Islander</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>35</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5579</td>
<td>27</td>
<td>Private</td>
<td>255582</td>
<td>HS-grad</td>
<td>9</td>
<td>Never-married</td>
<td>Machine-op-inspct</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5805</td>
<td>20</td>
<td>Private</td>
<td>107658</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Tech-support</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5842</td>
<td>25</td>
<td>Private</td>
<td>195994</td>
<td>1st-4th</td>
<td>2</td>
<td>Never-married</td>
<td>Priv-house-serv</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Guatemala</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6990</td>
<td>19</td>
<td>Private</td>
<td>138153</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Adm-clerical</td>
<td>Own-child</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7053</td>
<td>49</td>
<td>Self-emp-not-inc</td>
<td>43479</td>
<td>Some-college</td>
<td>10</td>
<td>Married-civ-spouse</td>
<td>Craft-repair</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7920</td>
<td>49</td>
<td>Private</td>
<td>31267</td>
<td>7th-8th</td>
<td>4</td>
<td>Married-civ-spouse</td>
<td>Craft-repair</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8080</td>
<td>21</td>
<td>Private</td>
<td>243368</td>
<td>Preschool</td>
<td>1</td>
<td>Never-married</td>
<td>Farming-fishing</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>50</td>
<td>Mexico</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8679</td>
<td>28</td>
<td>Private</td>
<td>274679</td>
<td>Masters</td>
<td>14</td>
<td>Never-married</td>
<td>Prof-specialty</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>50</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9171</td>
<td>21</td>
<td>Private</td>
<td>250051</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Prof-specialty</td>
<td>Own-child</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10367</td>
<td>42</td>
<td>Private</td>
<td>204235</td>
<td>Some-college</td>
<td>10</td>
<td>Married-civ-spouse</td>
<td>Prof-specialty</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11631</td>
<td>20</td>
<td>Private</td>
<td>107658</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Tech-support</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11965</td>
<td>46</td>
<td>Private</td>
<td>133616</td>
<td>Some-college</td>
<td>10</td>
<td>Divorced</td>
<td>Adm-clerical</td>
<td>Unmarried</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13084</td>
<td>25</td>
<td>Private</td>
<td>195994</td>
<td>1st-4th</td>
<td>2</td>
<td>Never-married</td>
<td>Priv-house-serv</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Guatemala</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">15059</td>
<td>21</td>
<td>Private</td>
<td>243368</td>
<td>Preschool</td>
<td>1</td>
<td>Never-married</td>
<td>Farming-fishing</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>50</td>
<td>Mexico</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15189</td>
<td>19</td>
<td>Private</td>
<td>146679</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Exec-managerial</td>
<td>Own-child</td>
<td>Black</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>30</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16297</td>
<td>46</td>
<td>Private</td>
<td>173243</td>
<td>HS-grad</td>
<td>9</td>
<td>Married-civ-spouse</td>
<td>Craft-repair</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16846</td>
<td>35</td>
<td>Private</td>
<td>379959</td>
<td>HS-grad</td>
<td>9</td>
<td>Divorced</td>
<td>Other-service</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16975</td>
<td>30</td>
<td>Private</td>
<td>144593</td>
<td>HS-grad</td>
<td>9</td>
<td>Never-married</td>
<td>Other-service</td>
<td>Not-in-family</td>
<td>Black</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Other</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17040</td>
<td>46</td>
<td>Private</td>
<td>173243</td>
<td>HS-grad</td>
<td>9</td>
<td>Married-civ-spouse</td>
<td>Craft-repair</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17673</td>
<td>19</td>
<td>Private</td>
<td>97261</td>
<td>HS-grad</td>
<td>9</td>
<td>Never-married</td>
<td>Farming-fishing</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17916</td>
<td>44</td>
<td>Private</td>
<td>367749</td>
<td>Bachelors</td>
<td>13</td>
<td>Never-married</td>
<td>Prof-specialty</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>Mexico</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18555</td>
<td>30</td>
<td>Private</td>
<td>144593</td>
<td>HS-grad</td>
<td>9</td>
<td>Never-married</td>
<td>Other-service</td>
<td>Not-in-family</td>
<td>Black</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Other</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18698</td>
<td>19</td>
<td>Private</td>
<td>97261</td>
<td>HS-grad</td>
<td>9</td>
<td>Never-married</td>
<td>Farming-fishing</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21103</td>
<td>23</td>
<td>Private</td>
<td>240137</td>
<td>5th-6th</td>
<td>3</td>
<td>Never-married</td>
<td>Handlers-cleaners</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>55</td>
<td>Mexico</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21318</td>
<td>19</td>
<td>Private</td>
<td>138153</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Adm-clerical</td>
<td>Own-child</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21490</td>
<td>19</td>
<td>Private</td>
<td>146679</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Exec-managerial</td>
<td>Own-child</td>
<td>Black</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>30</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21875</td>
<td>49</td>
<td>Private</td>
<td>31267</td>
<td>7th-8th</td>
<td>4</td>
<td>Married-civ-spouse</td>
<td>Craft-repair</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22300</td>
<td>25</td>
<td>Private</td>
<td>195994</td>
<td>1st-4th</td>
<td>2</td>
<td>Never-married</td>
<td>Priv-house-serv</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>Guatemala</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22367</td>
<td>44</td>
<td>Private</td>
<td>367749</td>
<td>Bachelors</td>
<td>13</td>
<td>Never-married</td>
<td>Prof-specialty</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>Mexico</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22494</td>
<td>49</td>
<td>Self-emp-not-inc</td>
<td>43479</td>
<td>Some-college</td>
<td>10</td>
<td>Married-civ-spouse</td>
<td>Craft-repair</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25624</td>
<td>39</td>
<td>Private</td>
<td>30916</td>
<td>HS-grad</td>
<td>9</td>
<td>Married-civ-spouse</td>
<td>Craft-repair</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25872</td>
<td>23</td>
<td>Private</td>
<td>240137</td>
<td>5th-6th</td>
<td>3</td>
<td>Never-married</td>
<td>Handlers-cleaners</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>55</td>
<td>Mexico</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26313</td>
<td>28</td>
<td>Private</td>
<td>274679</td>
<td>Masters</td>
<td>14</td>
<td>Never-married</td>
<td>Prof-specialty</td>
<td>Not-in-family</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>50</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28230</td>
<td>27</td>
<td>Private</td>
<td>255582</td>
<td>HS-grad</td>
<td>9</td>
<td>Never-married</td>
<td>Machine-op-inspct</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">28522</td>
<td>42</td>
<td>Private</td>
<td>204235</td>
<td>Some-college</td>
<td>10</td>
<td>Married-civ-spouse</td>
<td>Prof-specialty</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28846</td>
<td>39</td>
<td>Private</td>
<td>30916</td>
<td>HS-grad</td>
<td>9</td>
<td>Married-civ-spouse</td>
<td>Craft-repair</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29157</td>
<td>38</td>
<td>Private</td>
<td>207202</td>
<td>HS-grad</td>
<td>9</td>
<td>Married-civ-spouse</td>
<td>Machine-op-inspct</td>
<td>Husband</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>48</td>
<td>United-States</td>
<td>&gt;50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30845</td>
<td>46</td>
<td>Private</td>
<td>133616</td>
<td>Some-college</td>
<td>10</td>
<td>Divorced</td>
<td>Adm-clerical</td>
<td>Unmarried</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31993</td>
<td>19</td>
<td>Private</td>
<td>251579</td>
<td>Some-college</td>
<td>10</td>
<td>Never-married</td>
<td>Other-service</td>
<td>Own-child</td>
<td>White</td>
<td>Male</td>
<td>0</td>
<td>0</td>
<td>14</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32404</td>
<td>35</td>
<td>Private</td>
<td>379959</td>
<td>HS-grad</td>
<td>9</td>
<td>Divorced</td>
<td>Other-service</td>
<td>Not-in-family</td>
<td>White</td>
<td>Female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>United-States</td>
<td>&lt;=50K</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Finally, we remove them with <code>.drop_duplicates()</code>.</p>
<div id="c2ca2166-0540-4ea5-b1c0-d090b216c821" class="cell" data-execution_count="451">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>adult_df <span class="op">=</span> adult_df.drop_duplicates()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can confirm that we have no duplicates left in the dataset at this juncture.</p>
<div id="f60711c8-5051-4a96-9943-225d07b20c6d" class="cell" data-execution_count="452">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>adult_df.duplicated().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="452">
<pre><code>0</code></pre>
</div>
</div>
<p>We also inspect the current shape of the dataset and see that we have <em>32,537</em> rows and <em>15</em> columns.</p>
<div id="f7f380e0-57dd-40ea-a86b-1fc603f5a4bf" class="cell" data-execution_count="453">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>adult_df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="453">
<pre><code>(32537, 15)</code></pre>
</div>
</div>
</section>
<section id="standardize-categorical-variables" class="level3">
<h3 class="anchored" data-anchor-id="standardize-categorical-variables">5. Standardize Categorical Variables</h3>
<p><strong>Remove any leading or trailing spaces and convert the strings to lowercase</strong></p>
<p>To prepare categorical variables for consistent processing, we first of all remove extra spaces and convert them to lowercase. This step ensures categorical variables are clean and consistently organized.</p>
<div id="8655a8d5-f275-483d-8179-67af29b33622" class="cell" data-execution_count="454">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>categorical_cols <span class="op">=</span> adult_df.columns[adult_df.dtypes <span class="op">==</span> <span class="bu">object</span>]</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> categorical_cols:</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    adult_df.loc[:, col] <span class="op">=</span> adult_df[col].<span class="bu">str</span>.strip().<span class="bu">str</span>.lower()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e5ba6302-084d-4aed-b867-f63c8a012a2c" class="cell" data-execution_count="455">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>adult_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="455">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">workclass</th>
<th data-quarto-table-cell-role="th">fnlwgt</th>
<th data-quarto-table-cell-role="th">education</th>
<th data-quarto-table-cell-role="th">education_num</th>
<th data-quarto-table-cell-role="th">marital_status</th>
<th data-quarto-table-cell-role="th">occupation</th>
<th data-quarto-table-cell-role="th">relationship</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">capital_gain</th>
<th data-quarto-table-cell-role="th">capital_loss</th>
<th data-quarto-table-cell-role="th">hours_per_week</th>
<th data-quarto-table-cell-role="th">native_country</th>
<th data-quarto-table-cell-role="th">income</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>39</td>
<td>state-gov</td>
<td>77516</td>
<td>bachelors</td>
<td>13</td>
<td>never-married</td>
<td>adm-clerical</td>
<td>not-in-family</td>
<td>white</td>
<td>male</td>
<td>2174</td>
<td>0</td>
<td>40</td>
<td>united-states</td>
<td>&lt;=50k</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>50</td>
<td>self-emp-not-inc</td>
<td>83311</td>
<td>bachelors</td>
<td>13</td>
<td>married-civ-spouse</td>
<td>exec-managerial</td>
<td>husband</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>13</td>
<td>united-states</td>
<td>&lt;=50k</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>38</td>
<td>private</td>
<td>215646</td>
<td>hs-grad</td>
<td>9</td>
<td>divorced</td>
<td>handlers-cleaners</td>
<td>not-in-family</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>united-states</td>
<td>&lt;=50k</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>53</td>
<td>private</td>
<td>234721</td>
<td>11th</td>
<td>7</td>
<td>married-civ-spouse</td>
<td>handlers-cleaners</td>
<td>husband</td>
<td>black</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>united-states</td>
<td>&lt;=50k</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>28</td>
<td>private</td>
<td>338409</td>
<td>bachelors</td>
<td>13</td>
<td>married-civ-spouse</td>
<td>prof-specialty</td>
<td>wife</td>
<td>black</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>cuba</td>
<td>&lt;=50k</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32556</td>
<td>27</td>
<td>private</td>
<td>257302</td>
<td>assoc-acdm</td>
<td>12</td>
<td>married-civ-spouse</td>
<td>tech-support</td>
<td>wife</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>38</td>
<td>united-states</td>
<td>&lt;=50k</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32557</td>
<td>40</td>
<td>private</td>
<td>154374</td>
<td>hs-grad</td>
<td>9</td>
<td>married-civ-spouse</td>
<td>machine-op-inspct</td>
<td>husband</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>united-states</td>
<td>&gt;50k</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32558</td>
<td>58</td>
<td>private</td>
<td>151910</td>
<td>hs-grad</td>
<td>9</td>
<td>widowed</td>
<td>adm-clerical</td>
<td>unmarried</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>united-states</td>
<td>&lt;=50k</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">32559</td>
<td>22</td>
<td>private</td>
<td>201490</td>
<td>hs-grad</td>
<td>9</td>
<td>never-married</td>
<td>adm-clerical</td>
<td>own-child</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>20</td>
<td>united-states</td>
<td>&lt;=50k</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">32560</td>
<td>52</td>
<td>self-emp-inc</td>
<td>287927</td>
<td>hs-grad</td>
<td>9</td>
<td>married-civ-spouse</td>
<td>exec-managerial</td>
<td>wife</td>
<td>white</td>
<td>female</td>
<td>15024</td>
<td>0</td>
<td>40</td>
<td>united-states</td>
<td>&gt;50k</td>
</tr>
</tbody>
</table>

<p>32537 rows × 15 columns</p>
</div>
</div>
</div>
<p><strong>Re-code the <code>workclass</code> column</strong></p>
<p>We re-code the <code>workclass</code> column to broader categories like <code>government</code>, <code>private</code>, <code>self-employed</code>, etc. Table 3 shows the new encoding:</p>
<p><strong>Table 3: Re-encoding of the <code>workclass</code> column</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Old categories</th>
<th style="text-align: left;">New Categories</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>state-gov</code></td>
<td style="text-align: left;"><code>government</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>local-gov</code></td>
<td style="text-align: left;"><code>government</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>federal-gov</code></td>
<td style="text-align: left;"><code>government</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>self-emp-not-inc</code></td>
<td style="text-align: left;"><code>self-employed</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>self-emp-inc</code></td>
<td style="text-align: left;"><code>self-employed</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>never-worked</code></td>
<td style="text-align: left;"><code>unemployed</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>without-pay</code></td>
<td style="text-align: left;"><code>voluntary</code></td>
</tr>
</tbody>
</table>
<div id="98336522-2221-4454-bf1f-62d64c86cc55" class="cell" data-execution_count="456">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'workclass'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="456">
<pre><code>array(['state-gov', 'self-emp-not-inc', 'private', 'federal-gov',
       'local-gov', 'unknown', 'self-emp-inc', 'without-pay',
       'never-worked'], dtype=object)</code></pre>
</div>
</div>
<div id="9fe0f458-f467-4b47-9d04-6fb44b3b6c19" class="cell" data-execution_count="457">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>adult_df.loc[:,<span class="st">'workclass'</span>] <span class="op">=</span> adult_df[<span class="st">'workclass'</span>].replace({</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'state-gov'</span>: <span class="st">'government'</span>,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'local-gov'</span>: <span class="st">'government'</span>,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'federal-gov'</span>: <span class="st">'government'</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'self-emp-not-inc'</span>: <span class="st">'self-employed'</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'self-emp-inc'</span>: <span class="st">'self-employed'</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'never-worked'</span>: <span class="st">'unemployed'</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'without-pay'</span>: <span class="st">'voluntary'</span>,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="dd427940-86e5-4ccb-86d4-09205968e3be" class="cell" data-execution_count="458">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'workclass'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="458">
<pre><code>array(['government', 'self-employed', 'private', 'unknown', 'voluntary',
       'unemployed'], dtype=object)</code></pre>
</div>
</div>
<p><strong>Re-code the <code>education</code> column</strong></p>
<p>We create a new colum <code>education_level</code> with broader education groups. The mapping from <code>education</code> to <code>education_level</code> is as follows:</p>
<p><strong>Table 4: Mapping from <code>education</code> to <code>education_level</code></strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Education</th>
<th style="text-align: left;">Education Level</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>bachelors</code></td>
<td style="text-align: left;"><code>tertiary</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>masters</code></td>
<td style="text-align: left;"><code>tertiary</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>doctorate</code></td>
<td style="text-align: left;"><code>tertiary</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>prof-school</code></td>
<td style="text-align: left;"><code>tertiary</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>some-college</code></td>
<td style="text-align: left;"><code>some college</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>assoc-acdm</code></td>
<td style="text-align: left;"><code>associate</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>assoc-voc</code></td>
<td style="text-align: left;"><code>associate</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>hs-grad</code></td>
<td style="text-align: left;"><code>secondary-school graduate</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>12th</code></td>
<td style="text-align: left;"><code>secondary</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>11th</code></td>
<td style="text-align: left;"><code>secondary</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>10th</code></td>
<td style="text-align: left;"><code>secondary</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>9th</code></td>
<td style="text-align: left;"><code>secondary</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>7th-8th</code></td>
<td style="text-align: left;"><code>primary</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>5th-6th</code></td>
<td style="text-align: left;"><code>primary</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>1st-4th</code></td>
<td style="text-align: left;"><code>primary</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>preschool</code></td>
<td style="text-align: left;"><code>preschool</code></td>
</tr>
</tbody>
</table>
<div id="3f6cc6e1-084c-486f-9b80-a7008b98ee2e" class="cell" data-execution_count="459">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'education'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="459">
<pre><code>array(['bachelors', 'hs-grad', '11th', 'masters', '9th', 'some-college',
       'assoc-acdm', 'assoc-voc', '7th-8th', 'doctorate', 'prof-school',
       '5th-6th', '10th', '1st-4th', 'preschool', '12th'], dtype=object)</code></pre>
</div>
</div>
<div id="f2e8832a-0237-40e3-bcf3-6e3c6064ae32" class="cell" data-execution_count="460">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>adult_df <span class="op">=</span> adult_df.copy()</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>adult_df.loc[:,<span class="st">'education_level'</span>] <span class="op">=</span> adult_df[<span class="st">'education'</span>].<span class="bu">map</span>({</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'bachelors'</span>: <span class="st">'tertiary'</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'masters'</span>: <span class="st">'tertiary'</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'doctorate'</span>: <span class="st">'tertiary'</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'prof-school'</span>: <span class="st">'tertiary'</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'some-college'</span>: <span class="st">'some college'</span>,</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'assoc-acdm'</span>: <span class="st">'associate'</span>,</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'assoc-voc'</span>: <span class="st">'associate'</span>,</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'hs-grad'</span>: <span class="st">'secondary-school graduate'</span>,</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'12th'</span>: <span class="st">'secondary'</span>,</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'11th'</span>: <span class="st">'secondary'</span>,</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'10th'</span>: <span class="st">'secondary'</span>,</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'9th'</span>: <span class="st">'secondary'</span>,</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'7th-8th'</span>: <span class="st">'primary'</span>,</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'5th-6th'</span>: <span class="st">'primary'</span>,</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'1st-4th'</span>: <span class="st">'primary'</span>,</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'preschool'</span>: <span class="st">'preschool'</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="55630da1-d3f3-46a7-a394-d3b2756d7036" class="cell" data-execution_count="461">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>adult_df.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="461">
<pre><code>Index(['age', 'workclass', 'fnlwgt', 'education', 'education_num',
       'marital_status', 'occupation', 'relationship', 'race', 'sex',
       'capital_gain', 'capital_loss', 'hours_per_week', 'native_country',
       'income', 'education_level'],
      dtype='object')</code></pre>
</div>
</div>
<div id="20285047-da9a-420c-b453-39ba729ddd4f" class="cell" data-execution_count="462">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'education_level'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="462">
<pre><code>array(['tertiary', 'secondary-school graduate', 'secondary',
       'some college', 'associate', 'primary', 'preschool'], dtype=object)</code></pre>
</div>
</div>
<p><strong>Re-code the <code>marital_status</code> column</strong></p>
<p>The categories in<code>marital_status</code> are simplified into <code>single</code>, <code>married</code>, <code>divorced or separated</code> and <code>widowed</code>. See Table 5 for details.</p>
<p><strong>Table 5: Re-encoding of the <code>marital_status</code> column</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Old categories</th>
<th style="text-align: left;">New categories</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>never-married</code></td>
<td style="text-align: left;"><code>single</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>married-civ-spouse</code></td>
<td style="text-align: left;"><code>married</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>married-spouse-absent</code></td>
<td style="text-align: left;"><code>divorced or separated</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>divorced</code></td>
<td style="text-align: left;"><code>divorced or separated</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>separated</code></td>
<td style="text-align: left;"><code>divorced or separated</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>married-af-spouse</code></td>
<td style="text-align: left;"><code>married</code></td>
</tr>
</tbody>
</table>
<div id="6da30c9d-851b-473e-ab83-1bca662c044b" class="cell" data-execution_count="463">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'marital_status'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="463">
<pre><code>array(['never-married', 'married-civ-spouse', 'divorced',
       'married-spouse-absent', 'separated', 'married-af-spouse',
       'widowed'], dtype=object)</code></pre>
</div>
</div>
<div id="86b92a4e-0d92-4ab4-b62f-90b5661381e7" class="cell" data-execution_count="464">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>adult_df.loc[:,<span class="st">'marital_status'</span>] <span class="op">=</span> adult_df[<span class="st">'marital_status'</span>].replace({</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'never-married'</span>: <span class="st">'single'</span>,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'married-civ-spouse'</span>: <span class="st">'married'</span>,</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'married-spouse-absent'</span>: <span class="st">'divorced or separated'</span>,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'divorced'</span>: <span class="st">'divorced or separated'</span>,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'separated'</span>: <span class="st">'divorced or separated'</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'married-af-spouse'</span>: <span class="st">'married'</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="246b4efd-4f1c-4e9b-a5aa-50ea16d3aa81" class="cell" data-execution_count="465">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'marital_status'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="465">
<pre><code>array(['single', 'married', 'divorced or separated', 'widowed'],
      dtype=object)</code></pre>
</div>
</div>
<p><strong>Re-code the <code>occupation</code> column</strong></p>
<p>A new column, <code>occupation_grouped</code>, is created. This new column groups the occupations into the categories <code>white collar</code>, <code>blue collar</code>, <code>service</code>, <code>unknown</code> and <code>military</code>. The exact mapping is illustrated in Table 6.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Occupation</th>
<th style="text-align: left;">Occupation Grouped</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>adm-clerical</code></td>
<td style="text-align: left;"><code>white collar</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>exec-managerial</code></td>
<td style="text-align: left;"><code>white collar</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>handlers-cleaners</code></td>
<td style="text-align: left;"><code>blue collar</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>prof-specialty</code></td>
<td style="text-align: left;"><code>white collar</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>other-service</code></td>
<td style="text-align: left;"><code>service</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>sales</code></td>
<td style="text-align: left;"><code>white collar</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>craft-repair</code></td>
<td style="text-align: left;"><code>blue collar</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>transport-moving</code></td>
<td style="text-align: left;"><code>blue collar</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>farming-fishing</code></td>
<td style="text-align: left;"><code>blue collar</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>machine-op-inspct</code></td>
<td style="text-align: left;"><code>blue collar</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>tech-support</code></td>
<td style="text-align: left;"><code>white collar</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>protective-serv</code></td>
<td style="text-align: left;"><code>service</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>armed-forces</code></td>
<td style="text-align: left;"><code>military</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>priv-house-serv</code></td>
<td style="text-align: left;"><code>service</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>unknown</code></td>
<td style="text-align: left;"><code>unknown</code></td>
</tr>
</tbody>
</table>
<div id="726994ea-3297-492b-81e9-48f389ed051d" class="cell" data-execution_count="466">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'occupation'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="466">
<pre><code>array(['adm-clerical', 'exec-managerial', 'handlers-cleaners',
       'prof-specialty', 'other-service', 'sales', 'craft-repair',
       'transport-moving', 'farming-fishing', 'machine-op-inspct',
       'tech-support', 'unknown', 'protective-serv', 'armed-forces',
       'priv-house-serv'], dtype=object)</code></pre>
</div>
</div>
<div id="d19eb505-8fbd-41f0-bd7f-17ef6ad34dfc" class="cell" data-execution_count="467">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>adult_df <span class="op">=</span> adult_df.copy()</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>adult_df.loc[:, <span class="st">'occupation_grouped'</span>] <span class="op">=</span> adult_df[<span class="st">'occupation'</span>].<span class="bu">map</span>({</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'adm-clerical'</span>: <span class="st">'white collar'</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'exec-managerial'</span>: <span class="st">'white collar'</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'handlers-cleaners'</span>: <span class="st">'blue collar'</span>,</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'prof-specialty'</span>: <span class="st">'white collar'</span>,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'other-service'</span>: <span class="st">'service'</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'sales'</span>: <span class="st">'white collar'</span>,</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'craft-repair'</span>: <span class="st">'blue collar'</span>,</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'transport-moving'</span>: <span class="st">'blue collar'</span>,</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'farming-fishing'</span>: <span class="st">'blue collar'</span>,</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'machine-op-inspct'</span>: <span class="st">'blue collar'</span>,</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'tech-support'</span>: <span class="st">'white collar'</span>,</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'protective-serv'</span>: <span class="st">'service'</span>,</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'armed-forces'</span>: <span class="st">'military'</span>,</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'priv-house-serv'</span>: <span class="st">'service'</span>,</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'unknown'</span>: <span class="st">'unknown'</span></span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b9e7814c-e172-4686-8815-f0e2e1106508" class="cell" data-execution_count="468">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'occupation_grouped'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="468">
<pre><code>array(['white collar', 'blue collar', 'service', 'unknown', 'military'],
      dtype=object)</code></pre>
</div>
</div>
<p><strong>Re-code the <code>relationship</code> column</strong></p>
<p>We normalize the <code>race</code> column to indicate roles within a family or individual status.</p>
<p>Table 7 shows the re-encoding:</p>
<p><strong>Table 7: Re-encoding of the <code>race</code> column</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Old relationship</th>
<th style="text-align: left;">New relationship</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>wife</code></td>
<td style="text-align: left;"><code>female spouse</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>own-child</code></td>
<td style="text-align: left;"><code>child</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>not-in-family</code></td>
<td style="text-align: left;"><code>single</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>other-relative</code></td>
<td style="text-align: left;"><code>extended relative</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>unmarried</code></td>
<td style="text-align: left;"><code>single</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>husband</code></td>
<td style="text-align: left;"><code>male spouse</code></td>
</tr>
</tbody>
</table>
<div id="562117bb-cc78-4865-a904-f0de3d11bc11" class="cell" data-execution_count="469">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'relationship'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="469">
<pre><code>array(['not-in-family', 'husband', 'wife', 'own-child', 'unmarried',
       'other-relative'], dtype=object)</code></pre>
</div>
</div>
<div id="1a6f1967-0166-41f6-85e4-43a903b52a14" class="cell" data-execution_count="470">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>adult_df.loc[:,<span class="st">'relationship'</span>] <span class="op">=</span> adult_df[<span class="st">'relationship'</span>].replace({</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'wife'</span>: <span class="st">'female spouse'</span>,</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'own-child'</span>: <span class="st">'child'</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'not-in-family'</span>: <span class="st">'single'</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'other-relative'</span>: <span class="st">'extended relative'</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'unmarried'</span>: <span class="st">'single'</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'husband'</span>: <span class="st">'male spouse'</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="41ae1fad-4206-4c14-bbda-3b0d0a255472" class="cell" data-execution_count="471">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'relationship'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="471">
<pre><code>array(['single', 'male spouse', 'female spouse', 'child',
       'extended relative'], dtype=object)</code></pre>
</div>
</div>
<p><strong>Re-code the <code>race</code> column</strong></p>
<p>We standardize the <code>race</code> column to have more clear names. Table 8 shows the record values that were re-encoded:</p>
<p><strong>Table 8: Re-encoding of the <code>race</code> column</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Old categories</th>
<th style="text-align: left;">New categories</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>asian-pac-islander</code></td>
<td style="text-align: left;"><code>asian or pacific islander</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>amer-indian-eskimo</code></td>
<td style="text-align: left;"><code>american indian or eskimo</code></td>
</tr>
</tbody>
</table>
<div id="a2a15857-8d9f-43db-8c01-894b7d71b6da" class="cell" data-execution_count="472">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'race'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="472">
<pre><code>array(['white', 'black', 'asian-pac-islander', 'amer-indian-eskimo',
       'other'], dtype=object)</code></pre>
</div>
</div>
<div id="d5427c75-7b06-412c-9063-ff2570814476" class="cell" data-execution_count="473">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>adult_df.loc[:,<span class="st">'race'</span>] <span class="op">=</span> adult_df[<span class="st">'race'</span>].replace({</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'asian-pac-islander'</span>: <span class="st">'asian or pacific islander'</span>,</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'amer-indian-eskimo'</span>: <span class="st">'american indian or eskimo'</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="49249890-ce69-4e67-948a-d05ad6f68661" class="cell" data-execution_count="474">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'race'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="474">
<pre><code>array(['white', 'black', 'asian or pacific islander',
       'american indian or eskimo', 'other'], dtype=object)</code></pre>
</div>
</div>
<p><strong>Re-code the <code>native_country</code> column</strong></p>
<p>We create a new colum <code>native_region</code> which maps <code>native_country</code> to geographical regions (e.g., <code>north america</code>, <code>asia</code>, etc.). The mapping is as follows:</p>
<p><strong>Table 9: Mapping from <code>native_country</code> to <code>native_region</code></strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"><code>native_country</code></th>
<th style="text-align: left;"><code>native_region</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>united-states</code></td>
<td style="text-align: left;"><code>north america</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>canada</code></td>
<td style="text-align: left;"><code>north america</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>puerto-rico</code></td>
<td style="text-align: left;"><code>north america</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>outlying-us(guam-usvi-etc)</code></td>
<td style="text-align: left;"><code>north america</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>mexico</code></td>
<td style="text-align: left;"><code>north america</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>cuba</code></td>
<td style="text-align: left;"><code>central america</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>jamaica</code></td>
<td style="text-align: left;"><code>central america</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>honduras</code></td>
<td style="text-align: left;"><code>central america</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>dominican-republic</code></td>
<td style="text-align: left;"><code>central america</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>el-salvador</code></td>
<td style="text-align: left;"><code>central america</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>guatemala</code></td>
<td style="text-align: left;"><code>central america</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>nicaragua</code></td>
<td style="text-align: left;"><code>central america</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>trinadad&amp;tobago</code></td>
<td style="text-align: left;"><code>central america</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>haiti</code></td>
<td style="text-align: left;"><code>central america</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>columbia</code></td>
<td style="text-align: left;"><code>south america</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>ecuador</code></td>
<td style="text-align: left;"><code>south america</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>peru</code></td>
<td style="text-align: left;"><code>south america</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>south</code></td>
<td style="text-align: left;"><code>south america</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>india</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>china</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>iran</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>japan</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>philippines</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>cambodia</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>thailand</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>laos</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>taiwan</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>vietnam</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>hong</code></td>
<td style="text-align: left;"><code>asia</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>england</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>germany</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>france</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>italy</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>poland</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>portugal</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>yugoslavia</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>scotland</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>greece</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>ireland</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>hungary</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>holand-netherlands</code></td>
<td style="text-align: left;"><code>europe</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>other</code></td>
<td style="text-align: left;"><code>other</code></td>
</tr>
</tbody>
</table>
<div id="8f871379-ad7e-44d0-81cf-329849b8092d" class="cell" data-execution_count="475">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'native_country'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="475">
<pre><code>array(['united-states', 'cuba', 'jamaica', 'india', 'other', 'mexico',
       'south', 'puerto-rico', 'honduras', 'england', 'canada', 'germany',
       'iran', 'philippines', 'italy', 'poland', 'columbia', 'cambodia',
       'thailand', 'ecuador', 'laos', 'taiwan', 'haiti', 'portugal',
       'dominican-republic', 'el-salvador', 'france', 'guatemala',
       'china', 'japan', 'yugoslavia', 'peru',
       'outlying-us(guam-usvi-etc)', 'scotland', 'trinadad&amp;tobago',
       'greece', 'nicaragua', 'vietnam', 'hong', 'ireland', 'hungary',
       'holand-netherlands'], dtype=object)</code></pre>
</div>
</div>
<div id="9eced78a-d261-46cc-9bce-1158529f7794" class="cell" data-execution_count="476">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>adult_df <span class="op">=</span> adult_df.copy()</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>adult_df.loc[:, <span class="st">'native_region'</span>] <span class="op">=</span> adult_df[<span class="st">'native_country'</span>].<span class="bu">map</span>({</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'united-states'</span>: <span class="st">'north america'</span>,</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'canada'</span>: <span class="st">'north america'</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'puerto-rico'</span>: <span class="st">'north america'</span>,</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'outlying-us(guam-usvi-etc)'</span>: <span class="st">'north america'</span>,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'mexico'</span>: <span class="st">'north america'</span>,</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Central America &amp; Caribbean</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'cuba'</span>: <span class="st">'central america'</span>,</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'jamaica'</span>: <span class="st">'central america'</span>,</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'honduras'</span>: <span class="st">'central america'</span>,</span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'dominican-republic'</span>: <span class="st">'central america'</span>,</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'el-salvador'</span>: <span class="st">'central america'</span>,</span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'guatemala'</span>: <span class="st">'central america'</span>,</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'nicaragua'</span>: <span class="st">'central america'</span>,</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'trinadad&amp;tobago'</span>: <span class="st">'central america'</span>,</span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'haiti'</span>: <span class="st">'central america'</span>,</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># South America</span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">'columbia'</span>: <span class="st">'south america'</span>,</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ecuador'</span>: <span class="st">'south america'</span>,</span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'peru'</span>: <span class="st">'south america'</span>,</span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">'south'</span>: <span class="st">'south america'</span>,</span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Asia</span></span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">'india'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">'china'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">'iran'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">'japan'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">'philippines'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">'cambodia'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">'thailand'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-35"><a href="#cb59-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">'laos'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-36"><a href="#cb59-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">'taiwan'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-37"><a href="#cb59-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">'vietnam'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-38"><a href="#cb59-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">'hong'</span>: <span class="st">'asia'</span>,</span>
<span id="cb59-39"><a href="#cb59-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-40"><a href="#cb59-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Europe</span></span>
<span id="cb59-41"><a href="#cb59-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">'england'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-42"><a href="#cb59-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">'germany'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-43"><a href="#cb59-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">'france'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-44"><a href="#cb59-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">'italy'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-45"><a href="#cb59-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">'poland'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-46"><a href="#cb59-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">'portugal'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-47"><a href="#cb59-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">'yugoslavia'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-48"><a href="#cb59-48" aria-hidden="true" tabindex="-1"></a>    <span class="st">'scotland'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-49"><a href="#cb59-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">'greece'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-50"><a href="#cb59-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ireland'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-51"><a href="#cb59-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">'hungary'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-52"><a href="#cb59-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">'holand-netherlands'</span>: <span class="st">'europe'</span>,</span>
<span id="cb59-53"><a href="#cb59-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-54"><a href="#cb59-54" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Africa (none in this dataset, but include 'other')</span></span>
<span id="cb59-55"><a href="#cb59-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">'other'</span>: <span class="st">'other'</span></span>
<span id="cb59-56"><a href="#cb59-56" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c02dbdcf-8d4f-4de5-ba93-1394e9330337" class="cell" data-execution_count="477">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'native_region'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="477">
<pre><code>array(['north america', 'central america', 'asia', 'other',
       'south america', 'europe'], dtype=object)</code></pre>
</div>
</div>
</section>
<section id="create-age-groups-based-on-the-age-column" class="level3">
<h3 class="anchored" data-anchor-id="create-age-groups-based-on-the-age-column">6. Create age groups based on the <code>age</code> column</h3>
<p>Age is binned into groups such as <code>&lt;18</code>, <code>18-25</code>, <span class="math inline">\(\cdots\)</span>, <code>76+</code> to facilitate easier demographic analysis.</p>
<div id="66a24ccf-9735-4997-98e4-ac8f351b2482" class="cell" data-execution_count="478">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'age'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="478">
<pre><code>array([39, 50, 38, 53, 28, 37, 49, 52, 31, 42, 30, 23, 32, 40, 34, 25, 43,
       54, 35, 59, 56, 19, 20, 45, 22, 48, 21, 24, 57, 44, 41, 29, 18, 47,
       46, 36, 79, 27, 67, 33, 76, 17, 55, 61, 70, 64, 71, 68, 66, 51, 58,
       26, 60, 90, 75, 65, 77, 62, 63, 80, 72, 74, 69, 73, 81, 78, 88, 82,
       83, 84, 85, 86, 87], dtype=int64)</code></pre>
</div>
</div>
<div id="389eb5f6-78b0-4e34-b51d-53df052dd592" class="cell" data-execution_count="479">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">18</span>, <span class="dv">25</span>, <span class="dv">35</span>, <span class="dv">45</span>, <span class="dv">60</span>, <span class="dv">75</span>, <span class="dv">100</span>]</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="st">'&lt;18'</span>, <span class="st">'18-25'</span>, <span class="st">'26-35'</span>, <span class="st">'36-45'</span>, <span class="st">'46-60'</span>, <span class="st">'61-75'</span>, <span class="st">'76+'</span>]</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'age_group'</span>] <span class="op">=</span> pd.cut(adult_df[<span class="st">'age'</span>], bins <span class="op">=</span> bins, labels <span class="op">=</span> labels, right<span class="op">=</span><span class="va">True</span>, include_lowest<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="137042e7-c56f-4da0-9c7c-1ca3a2910b6e" class="cell" data-execution_count="480">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>adult_df[<span class="st">'age_group'</span>].unique()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="480">
<pre><code>['36-45', '46-60', '26-35', '18-25', '&lt;18', '76+', '61-75']
Categories (7, object): ['&lt;18' &lt; '18-25' &lt; '26-35' &lt; '36-45' &lt; '46-60' &lt; '61-75' &lt; '76+']</code></pre>
</div>
</div>
</section>
<section id="drop-unnecessary-columns" class="level3">
<h3 class="anchored" data-anchor-id="drop-unnecessary-columns">7. Drop unnecessary columns</h3>
<p>After recoding, some columns such as <code>education</code>, <code>native_country</code> and <code>occupation</code> become redundant. We drop them to avoid multicollinearity and simplify our dataset. We notably retain the <code>age</code> column in case there is need to model it as a continuous variable.</p>
<div id="d97c27c0-f937-459d-b553-f2ca071c0d40" class="cell" data-execution_count="481">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>adult_df.drop(columns<span class="op">=</span>[<span class="st">'education'</span>, <span class="st">'native_country'</span>, <span class="st">'occupation'</span>], inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cb53a5f8-be2b-4170-9e2c-f6570f0290ec" class="cell" data-execution_count="482">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>adult_df.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="482">
<pre><code>Index(['age', 'workclass', 'fnlwgt', 'education_num', 'marital_status',
       'relationship', 'race', 'sex', 'capital_gain', 'capital_loss',
       'hours_per_week', 'income', 'education_level', 'occupation_grouped',
       'native_region', 'age_group'],
      dtype='object')</code></pre>
</div>
</div>
</section>
</section>
<section id="save-the-clean-dataset" class="level2">
<h2 class="anchored" data-anchor-id="save-the-clean-dataset">Save the Clean Dataset</h2>
<p>Before saving the clean dataset, we re-inspect it to ensure no new issues have risen up due to re-encoding. We first of all inspect the shape of the dataset. We see that we have <em>32,537</em> rows and <em>16</em> columns. This means that there is a new column, <code>age_group</code>, added to the original dataset.</p>
<div id="75247ed5-6511-4cd7-9fdc-c4e89f5f4391" class="cell" data-execution_count="483">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>adult_df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="483">
<pre><code>(32537, 16)</code></pre>
</div>
</div>
<p>We confirm that there are no null values.</p>
<div id="2c83c14f-ecca-4186-bb8e-d7862c6da040" class="cell" data-execution_count="484">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>adult_df.isnull().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="484">
<pre><code>age                   0
workclass             0
fnlwgt                0
education_num         0
marital_status        0
relationship          0
race                  0
sex                   0
capital_gain          0
capital_loss          0
hours_per_week        0
income                0
education_level       0
occupation_grouped    0
native_region         0
age_group             0
dtype: int64</code></pre>
</div>
</div>
<p>However, we note that there are new duplicated values given that we merged some categories in the re-encoding process. We inadvertently drop the duplicates.</p>
<div id="20a4b7cb-abf2-4dcd-ae76-2bdff5f6de20" class="cell" data-execution_count="485">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>adult_df.duplicated().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="485">
<pre><code>24</code></pre>
</div>
</div>
<div id="ab88e479-7e05-4877-bed0-14e881c2fb72" class="cell" data-execution_count="486">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>adult_df[adult_df.duplicated(keep<span class="op">=</span><span class="va">False</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="486">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">workclass</th>
<th data-quarto-table-cell-role="th">fnlwgt</th>
<th data-quarto-table-cell-role="th">education_num</th>
<th data-quarto-table-cell-role="th">marital_status</th>
<th data-quarto-table-cell-role="th">relationship</th>
<th data-quarto-table-cell-role="th">race</th>
<th data-quarto-table-cell-role="th">sex</th>
<th data-quarto-table-cell-role="th">capital_gain</th>
<th data-quarto-table-cell-role="th">capital_loss</th>
<th data-quarto-table-cell-role="th">hours_per_week</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">education_level</th>
<th data-quarto-table-cell-role="th">occupation_grouped</th>
<th data-quarto-table-cell-role="th">native_region</th>
<th data-quarto-table-cell-role="th">age_group</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">531</td>
<td>26</td>
<td>private</td>
<td>108658</td>
<td>9</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">594</td>
<td>23</td>
<td>private</td>
<td>117789</td>
<td>13</td>
<td>single</td>
<td>child</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2896</td>
<td>46</td>
<td>private</td>
<td>271828</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&gt;50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>46-60</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3261</td>
<td>26</td>
<td>private</td>
<td>108658</td>
<td>9</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3586</td>
<td>28</td>
<td>private</td>
<td>50814</td>
<td>9</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>white collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3692</td>
<td>46</td>
<td>private</td>
<td>271828</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&gt;50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>46-60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3960</td>
<td>43</td>
<td>private</td>
<td>174575</td>
<td>10</td>
<td>divorced or separated</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>&lt;=50k</td>
<td>some college</td>
<td>white collar</td>
<td>north america</td>
<td>36-45</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4511</td>
<td>24</td>
<td>private</td>
<td>140001</td>
<td>13</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5110</td>
<td>21</td>
<td>private</td>
<td>118693</td>
<td>10</td>
<td>single</td>
<td>child</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>some college</td>
<td>blue collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5805</td>
<td>20</td>
<td>private</td>
<td>107658</td>
<td>10</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>&lt;=50k</td>
<td>some college</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6403</td>
<td>26</td>
<td>private</td>
<td>174921</td>
<td>13</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6763</td>
<td>44</td>
<td>private</td>
<td>104196</td>
<td>14</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>&gt;50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>36-45</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7713</td>
<td>28</td>
<td>private</td>
<td>50814</td>
<td>9</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>white collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8342</td>
<td>33</td>
<td>private</td>
<td>198211</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>white collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8794</td>
<td>33</td>
<td>private</td>
<td>198211</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>white collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9680</td>
<td>29</td>
<td>private</td>
<td>115677</td>
<td>13</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9980</td>
<td>29</td>
<td>private</td>
<td>115677</td>
<td>13</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10302</td>
<td>25</td>
<td>private</td>
<td>182866</td>
<td>9</td>
<td>single</td>
<td>child</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11331</td>
<td>23</td>
<td>private</td>
<td>117789</td>
<td>13</td>
<td>single</td>
<td>child</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12180</td>
<td>26</td>
<td>private</td>
<td>174921</td>
<td>13</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12199</td>
<td>27</td>
<td>private</td>
<td>183523</td>
<td>13</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12233</td>
<td>22</td>
<td>government</td>
<td>262819</td>
<td>10</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>some college</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12596</td>
<td>28</td>
<td>private</td>
<td>205337</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13396</td>
<td>31</td>
<td>private</td>
<td>209538</td>
<td>6</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary</td>
<td>blue collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17202</td>
<td>25</td>
<td>private</td>
<td>178478</td>
<td>13</td>
<td>single</td>
<td>child</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17630</td>
<td>33</td>
<td>private</td>
<td>136331</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18147</td>
<td>58</td>
<td>private</td>
<td>205410</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>46-60</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19098</td>
<td>42</td>
<td>private</td>
<td>177989</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>36-45</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20373</td>
<td>28</td>
<td>private</td>
<td>205337</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21264</td>
<td>38</td>
<td>private</td>
<td>108907</td>
<td>9</td>
<td>divorced or separated</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>other</td>
<td>36-45</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21488</td>
<td>20</td>
<td>private</td>
<td>107658</td>
<td>10</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>10</td>
<td>&lt;=50k</td>
<td>some college</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">22840</td>
<td>56</td>
<td>private</td>
<td>220187</td>
<td>10</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>&gt;50k</td>
<td>some college</td>
<td>white collar</td>
<td>north america</td>
<td>46-60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23520</td>
<td>22</td>
<td>government</td>
<td>262819</td>
<td>10</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>some college</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23674</td>
<td>21</td>
<td>private</td>
<td>118693</td>
<td>10</td>
<td>single</td>
<td>child</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>some college</td>
<td>blue collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">23785</td>
<td>24</td>
<td>private</td>
<td>140001</td>
<td>13</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23851</td>
<td>25</td>
<td>private</td>
<td>367306</td>
<td>10</td>
<td>single</td>
<td>child</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>some college</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24400</td>
<td>44</td>
<td>private</td>
<td>104196</td>
<td>14</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>&gt;50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>36-45</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24942</td>
<td>25</td>
<td>private</td>
<td>178478</td>
<td>13</td>
<td>single</td>
<td>child</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25467</td>
<td>31</td>
<td>private</td>
<td>209538</td>
<td>6</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary</td>
<td>blue collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26004</td>
<td>56</td>
<td>private</td>
<td>220187</td>
<td>10</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>&gt;50k</td>
<td>some college</td>
<td>white collar</td>
<td>north america</td>
<td>46-60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26044</td>
<td>42</td>
<td>private</td>
<td>177989</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>36-45</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">26441</td>
<td>58</td>
<td>private</td>
<td>205410</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>46-60</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26572</td>
<td>33</td>
<td>private</td>
<td>136331</td>
<td>9</td>
<td>married</td>
<td>male spouse</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27921</td>
<td>43</td>
<td>private</td>
<td>174575</td>
<td>10</td>
<td>divorced or separated</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>&lt;=50k</td>
<td>some college</td>
<td>white collar</td>
<td>north america</td>
<td>36-45</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">28841</td>
<td>38</td>
<td>private</td>
<td>108907</td>
<td>9</td>
<td>divorced or separated</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>other</td>
<td>36-45</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">29225</td>
<td>27</td>
<td>private</td>
<td>183523</td>
<td>13</td>
<td>single</td>
<td>single</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>45</td>
<td>&lt;=50k</td>
<td>tertiary</td>
<td>white collar</td>
<td>north america</td>
<td>26-35</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">30132</td>
<td>25</td>
<td>private</td>
<td>367306</td>
<td>10</td>
<td>single</td>
<td>child</td>
<td>white</td>
<td>female</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>some college</td>
<td>white collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">31760</td>
<td>25</td>
<td>private</td>
<td>182866</td>
<td>9</td>
<td>single</td>
<td>child</td>
<td>white</td>
<td>male</td>
<td>0</td>
<td>0</td>
<td>40</td>
<td>&lt;=50k</td>
<td>secondary-school graduate</td>
<td>blue collar</td>
<td>north america</td>
<td>18-25</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="21e6ac52-1f0f-4c18-a15c-5b7aa33119f8" class="cell" data-execution_count="487">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>adult_df <span class="op">=</span> adult_df.drop_duplicates()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="1b45bfae-e142-42c6-9292-69aa9164a101" class="cell" data-execution_count="488">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>adult_df.duplicated().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="488">
<pre><code>0</code></pre>
</div>
</div>
<p>The final shape of the clean dataset is thus <em>32,513</em> rows and <em>16</em> columns.</p>
<div id="76780c08-94ef-4b99-8202-ffaaf1f71028" class="cell" data-execution_count="489">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>adult_df.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="489">
<pre><code>(32513, 16)</code></pre>
</div>
</div>
<p>Finally, we save the clean, processed dataset as a CSV file in our <code>processed</code> directory for future modelling and analysis.</p>
<div id="184d4c28-d560-40cb-8809-75962d8fc06f" class="cell" data-execution_count="490">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the file in the processed data folder</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>final_file <span class="op">=</span> os.path.join(processed_dir, <span class="st">'adult_cleaned.csv'</span>)</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>adult_df.to_csv(final_file, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>